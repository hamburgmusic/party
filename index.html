<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hamburg Music Party â€“ Snake</title>
<style>
/* Hintergrundbild Desktop + Mobile */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: -1;
  background: url("assets/party-bg-desktop.jpg?v=v3") center/cover no-repeat;
  filter: saturate(1.05);
  opacity: 1;
}

/* ðŸ“± anderes Bild fÃ¼r Mobile */
@media (max-width: 768px) {
  body::before {
    background-image: url("assets/party-bg-mobile.jpg?v=v3");
    background-position: center top;
  }
}

body{
  margin:0;
  color:#fff;
  font-family:system-ui, sans-serif;
  overflow:hidden;
}
.stage{
  width:90vw;
  height:55vh;
  margin-top:240px;
  position:relative;
  border-radius:18px;
  overflow:hidden;
  box-shadow:0 10px 40px rgba(0,0,0,.35);
  background:transparent;
  outline:2px solid rgba(255,255,255,.08);
}
canvas#game{
  position:absolute;
  top:50%; left:50%;
  transform:translate(-50%,-50%);
  image-rendering:pixelated;
  background:transparent;
}
.hud{ position:absolute; inset:0; pointer-events:none; z-index:2; }
.overlay{ position:absolute; inset:0; display:flex; align-items:center; justify-content:center;
          background:rgba(0,0,0,.45); backdrop-filter:blur(2px); z-index:3; }
.hidden{ display:none!important; }
.controls{
  position:absolute; bottom:12px; left:50%;
  transform:translateX(-50%);
  display:flex; gap:8px; pointer-events:auto; z-index:2;
}
button{
  background:rgba(255,255,255,.1);
  border:1px solid rgba(255,255,255,.2);
  color:#fff;
  border-radius:8px;
  padding:6px 14px;
  cursor:pointer;
}
</style>
</head>
<body>
<div class="stage" id="stage">
  <canvas id="game"></canvas>
  <div class="overlay" id="startOverlay">
    <div class="overlay-content">
      <h2>Hamburg Music Party â€“ Snake</h2>
      <p>Bitte gib deinen Namen ein, um zu starten.</p>
      <input type="text" id="playerName" placeholder="Dein Name" maxlength="24">
      <button id="startBtn">Start</button>
      <p class="fine">Name: 2â€“24 Zeichen. Wird nur fÃ¼r die lokale Highscore-Anzeige verwendet.</p>
    </div>
  </div>
  <div class="controls">
    <button id="pauseBtn">Pause</button>
    <button id="restartBtn">Neu starten</button>
  </div>
</div>
<script>
const stage = document.querySelector('#stage');
const canvas = document.querySelector('#game');
const ctx = canvas.getContext('2d', { alpha: true });
let size, cell;
const GRID = 24;
function fit() {
  const r = stage.getBoundingClientRect();
  const edge = Math.floor(Math.min(r.width, r.height));
  canvas.width  = edge;
  canvas.height = edge;
  canvas.style.width  = edge + 'px';
  canvas.style.height = edge + 'px';
  size = edge;
  cell = Math.floor(size / GRID);
}
window.addEventListener('resize', fit);
fit();
</script>
</body>
</html>
